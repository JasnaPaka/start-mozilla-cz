###
# force HTTPS
###
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

###
# HSTS
###
<IfModule mod_headers.c>
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" "expr=%{HTTPS} == 'on'"
</IfModule>

###
# CSP
###
<IfModule mod_headers.c>
    Header set Content-Security-Policy "default-src 'none'; script-src 'self' www.google-analytics.com; style-src 'self'; img-src 'self' www.google-analytics.com; frame-ancestors 'none'"
    Header set X-Frame-Options "DENY"
    Header set X-Content-Type-Options "nosniff"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

###
# Cachovani obsahu
###
<IfModule mod_expires.c>
    ExpiresActive On
    # default 1 hour
        ExpiresDefault A3600
    # HTML/PHP/plain/XHTML/XML 1 hour
        ExpiresByType text/html A3600
        ExpiresByType text/php A3600
        ExpiresByType application/php A3600
        ExpiresByType text/plain A3600
        ExpiresByType application/xhtml+xml A3600
        ExpiresByType text/xml A3600
        ExpiresByType application/xml A3600
        ExpiresByType application/x-xml A3600
    # CSS 1 week
        ExpiresByType text/css A604800
    # JavaScript 1 week
        ExpiresByType text/javascript A604800
        ExpiresByType text/x-javascript A604800
        ExpiresByType application/javascript A604800
        ExpiresByType application/x-javascript A604800
    # images 1 week
        ExpiresByType image/bmp A604800
        ExpiresByType image/gif A604800
        ExpiresByType image/ico A604800
        ExpiresByType image/x-icon A604800
        ExpiresByType image/vnd.microsoft.icon A604800
        ExpiresByType image/jpg A604800
        ExpiresByType image/jpeg A604800
        ExpiresByType image/png A604800
        ExpiresByType image/svg A604800
        ExpiresByType image/svg+xml A604800
</IfModule>
